<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dsqt: dsqt::DSEnvironment Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dsqt<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classdsqt_1_1_d_s_environment.html','','classdsqt_1_1_d_s_environment-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">dsqt::DSEnvironment Class Reference<div class="ingroups"><a class="el" href="group__env.html">Environment API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classdsqt_1_1_d_s_environment.html" title="DSEnvironment.">DSEnvironment</a>.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dsenvironment_8h_source.html">dsenvironment.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af4a239ed3dc13dd3af6388badc896107" id="r_af4a239ed3dc13dd3af6388badc896107"><td class="memItemLeft" align="right" valign="top"><a id="af4a239ed3dc13dd3af6388badc896107" name="af4a239ed3dc13dd3af6388badc896107"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DSEnvironment</b> ()=delete</td></tr>
<tr class="memdesc:af4a239ed3dc13dd3af6388badc896107"><td class="mdescLeft">&#160;</td><td class="mdescRight">the constructor is deleted <br /></td></tr>
<tr class="memitem:ab3190cff32f9a665e0f9f5dc49795098" id="r_ab3190cff32f9a665e0f9f5dc49795098"><td class="memItemLeft" align="right" valign="top"><a id="ab3190cff32f9a665e0f9f5dc49795098" name="ab3190cff32f9a665e0f9f5dc49795098"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DSEnvironment</b> (const <a class="el" href="classdsqt_1_1_d_s_environment.html">DSEnvironment</a> &amp;)=delete</td></tr>
<tr class="memdesc:ab3190cff32f9a665e0f9f5dc49795098"><td class="mdescLeft">&#160;</td><td class="mdescRight">the copy constructor is deleted <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-static-methods" class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad6835ea5b74913d48defaf62df4c9e96" id="r_ad6835ea5b74913d48defaf62df4c9e96"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6835ea5b74913d48defaf62df4c9e96">expand</a> (const std::string &amp;path)</td></tr>
<tr class="memdesc:ad6835ea5b74913d48defaf62df4c9e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the same path but with any environment variables expanded.  <br /></td></tr>
<tr class="memitem:a17db0fbf89d219391e9642c438e17574" id="r_a17db0fbf89d219391e9642c438e17574"><td class="memItemLeft" align="right" valign="top"><a id="a17db0fbf89d219391e9642c438e17574" name="a17db0fbf89d219391e9642c438e17574"></a>
static QString&#160;</td><td class="memItemRight" valign="bottom"><b>expandq</b> (const QString &amp;path)</td></tr>
<tr class="memitem:a48471f556b175e0bd034d858cb077705" id="r_a48471f556b175e0bd034d858cb077705"><td class="memItemLeft" align="right" valign="top"><a id="a48471f556b175e0bd034d858cb077705" name="a48471f556b175e0bd034d858cb077705"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>contract</b> (const std::string &amp;fullPath)</td></tr>
<tr class="memdesc:a48471f556b175e0bd034d858cb077705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the path but with any applicable environment variables inserted. See expand for variables. <br /></td></tr>
<tr class="memitem:a22d19e74352255d5e95f846ada8a53da" id="r_a22d19e74352255d5e95f846ada8a53da"><td class="memItemLeft" align="right" valign="top"><a id="a22d19e74352255d5e95f846ada8a53da" name="a22d19e74352255d5e95f846ada8a53da"></a>
static QString&#160;</td><td class="memItemRight" valign="bottom"><b>contract</b> (const QString &amp;fullPath)</td></tr>
<tr class="memitem:a76bcaf244cdf4058a04ce053d4ea18d6" id="r_a76bcaf244cdf4058a04ce053d4ea18d6"><td class="memItemLeft" align="right" valign="top">static DSSettingsRef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76bcaf244cdf4058a04ce053d4ea18d6">loadSettings</a> (const std::string &amp;settingsName, const std::string &amp;filename, const bool lookForOverrides=true)</td></tr>
<tr class="memdesc:a76bcaf244cdf4058a04ce053d4ea18d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Answer an app folder &ndash; currently only SETTINGS() is valid for arg 1.  <br /></td></tr>
<tr class="memitem:a430f01a9ede757932fb67beeeb11effb" id="r_a430f01a9ede757932fb67beeeb11effb"><td class="memItemLeft" align="right" valign="top"><a id="a430f01a9ede757932fb67beeeb11effb" name="a430f01a9ede757932fb67beeeb11effb"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>loadEngineSettings</b> ()</td></tr>
<tr class="memdesc:a430f01a9ede757932fb67beeeb11effb"><td class="mdescLeft">&#160;</td><td class="mdescRight">load the engine settings; <br /></td></tr>
<tr class="memitem:a36137885fd96e2761c002a5d4d8e1d5a" id="r_a36137885fd96e2761c002a5d4d8e1d5a"><td class="memItemLeft" align="right" valign="top"><a id="a36137885fd96e2761c002a5d4d8e1d5a" name="a36137885fd96e2761c002a5d4d8e1d5a"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>initialize</b> ()</td></tr>
<tr class="memitem:a2db6c6190bf193ea216ee2be2c0174a6" id="r_a2db6c6190bf193ea216ee2be2c0174a6"><td class="memItemLeft" align="right" valign="top"><a id="a2db6c6190bf193ea216ee2be2c0174a6" name="a2db6c6190bf193ea216ee2be2c0174a6"></a>
static DSSettingsRef&#160;</td><td class="memItemRight" valign="bottom"><b>engineSettings</b> ()</td></tr>
<tr class="memitem:a71914ff6a4fc67ef62f478c6cab89653" id="r_a71914ff6a4fc67ef62f478c6cab89653"><td class="memItemLeft" align="right" valign="top"><a id="a71914ff6a4fc67ef62f478c6cab89653" name="a71914ff6a4fc67ef62f478c6cab89653"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getDownstreamDocumentsFolder</b> ()</td></tr>
<tr class="memdesc:a71914ff6a4fc67ef62f478c6cab89653"><td class="mdescLeft">&#160;</td><td class="mdescRight">not implemented <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classdsqt_1_1_d_s_environment.html" title="DSEnvironment.">DSEnvironment</a>. </p>
<p>The environement class currently provides two functions:</p>
<ol type="1">
<li>managing the filesystem "tokens" and</li>
<li>loading settings using a filesystem fallback scheme.</li>
</ol>
<p>The filesystem tokens are as follows:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><a class="el" href="structdsqt_1_1_token.html">Token</a>  </th><th class="markdownTableHeadNone">Meaning  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">%APP%  </td><td class="markdownTableBodyNone">The application's root folder. where the executable is.  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">%DOCUMENTS%  </td><td class="markdownTableBodyNone">The running users Documents folder  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">%LOCAL%  </td><td class="markdownTableBodyNone">The downstream folder in the Documents folder  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">%PP%  </td><td class="markdownTableBodyNone">The apps "project path" this is not really a path, but more of a directory name to be used in other paths  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">%CFG_FOLDER%  </td><td class="markdownTableBodyNone">The current Configuration folder as defined in configuration.toml  </td></tr>
</table>
<p>Tokens can be added to strings and then you can use static function DSEnvironment::expand(string) to expand the tokens into thier full values in that string:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> std::string tokened = <span class="stringliteral">&quot;%APP%/data/images/background.png&quot;</span>;</div>
<div class="line"><span class="keyword">const</span> std::string val = <a class="code hl_function" href="#ad6835ea5b74913d48defaf62df4c9e96">DSEnvironment::expand</a>(tokened.toStdString());</div>
<div class="ttc" id="aclassdsqt_1_1_d_s_environment_html_ad6835ea5b74913d48defaf62df4c9e96"><div class="ttname"><a href="#ad6835ea5b74913d48defaf62df4c9e96">dsqt::DSEnvironment::expand</a></div><div class="ttdeci">static std::string expand(const std::string &amp;path)</div><div class="ttdoc">Return the same path but with any environment variables expanded.</div><div class="ttdef"><b>Definition</b> dsenvironment.cpp:22</div></div>
</div><!-- fragment --> </div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="ad6835ea5b74913d48defaf62df4c9e96" name="ad6835ea5b74913d48defaf62df4c9e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6835ea5b74913d48defaf62df4c9e96">&#9670;&#160;</a></span>expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dsqt::DSEnvironment::expand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the same path but with any environment variables expanded. </p>
<p>Current variables: APP% &ndash; expanded to app folder LOCAL% &ndash; expanded to downstream documents folder PP% &ndash; expand the project path, i.e. "%LOCAL%/cache/%PP%/images/" CFG_FOLDER% &ndash; expand to the configuration folder, if it exists "%DOCUMENTS%" &ndash; expand to current user documents folder </p>

</div>
</div>
<a id="a76bcaf244cdf4058a04ce053d4ea18d6" name="a76bcaf244cdf4058a04ce053d4ea18d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bcaf244cdf4058a04ce053d4ea18d6">&#9670;&#160;</a></span>loadSettings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DSSettingsRef dsqt::DSEnvironment::loadSettings </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>settingsName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool</td>          <td class="paramname"><span class="paramname"><em>lookForOverrides</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Answer an app folder &ndash; currently only SETTINGS() is valid for arg 1. </p>
<p>If fileName is valid, then it will be appended to the found app folder, if it exists. This function assumes that I don't actually know the location of the folderName relative to my appPath, and searches up the appPath looking for it. This makes it so no configuration is needed between dev and production environments. If verify is true, then verify that the folder or file exists, otherwise answer a blank string. Convenience to load in a settings file, first from the app path, then the local path </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/core/<a class="el" href="dsenvironment_8h_source.html">dsenvironment.h</a></li>
<li>src/core/<b>dsenvironment.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacedsqt.html">dsqt</a></li><li class="navelem"><a href="classdsqt_1_1_d_s_environment.html">DSEnvironment</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
